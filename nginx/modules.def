# ===========================================================================================================
# MODULES DEFINITION FILE
# ===========================================================================================================
# FORMAT:
# Name | Type | URL | SHA256 | Configure Flag
#
# COLUMNS EXPLANATION:
# 1. Name:     Module name (used in profiles.def).
# 2. Type:     'internal' (built-in) or 'external' (downloaded).
# 3. URL:      Download link for external modules (use '-' for internal).
# 4. SHA256:   The security hash. REPLACE '-' WITH THE ACTUAL HASH string to enable verification.
# 5. Flag:     The ./configure argument. Use {{DIR}} as a placeholder for the module source path.
# ===========================================================================================================

# --- INTERNAL MODULES (Part of Nginx Source) ---------------------------------------------------------------
# No URL or SHA needed here because they are bundled with the main Nginx tarball.
http_image_filter | internal | - | - | --with-http_image_filter_module=dynamic
http_xslt         | internal | - | - | --with-http_xslt_module=dynamic
http_geoip        | internal | - | - | --with-http_geoip_module=dynamic
mail              | internal | - | - | --with-mail=dynamic
stream            | internal | - | - | --with-stream=dynamic
stream_geoip      | internal | - | - | --with-stream_geoip_module=dynamic
http_perl         | internal | - | - | --with-http_perl_module=dynamic

# --- EXTERNAL MODULES (Downloaded from GitHub) -------------------------------------------------------------
# [IMPORTANT]: Replace the '-' in the 4th column with the SHA256 hash of the .tar.gz file.

# NJS (Nginx JavaScript)
njs | external | https://github.com/nginx/njs/archive/refs/tags/0.8.4.tar.gz | - | --add-dynamic-module={{DIR}}/nginx

# Headers More (Security/Header Manipulation)
headers_more | external | https://github.com/openresty/headers-more-nginx-module/archive/refs/tags/v0.37.tar.gz | - | --add-dynamic-module={{DIR}}

# Echo (Debugging)
echo | external | https://github.com/openresty/echo-nginx-module/archive/refs/tags/v0.63.tar.gz | - | --add-dynamic-module={{DIR}}

# Brotli (Compression - Requires libbrotli-dev)
brotli | external | https://github.com/google/ngx_brotli/archive/refs/tags/v1.0.0rc.tar.gz | - | --add-dynamic-module={{DIR}}

# GeoIP2 (Modern GeoIP - Requires libmaxminddb-dev)
geoip2 | external | https://github.com/leev/ngx_http_geoip2_module/archive/refs/tags/3.4.tar.gz | - | --add-dynamic-module={{DIR}}

# Cache Purge
cache_purge | external | https://github.com/nginx-modules/ngx_cache_purge/archive/2.5.3.tar.gz | - | --add-dynamic-module={{DIR}}

# Subs Filter (Find & Replace in body)
subs_filter | external | https://github.com/yaoweibin/ngx_http_substitutions_filter_module/archive/refs/tags/v0.6.4.tar.gz | - | --add-dynamic-module={{DIR}}

# Cookie Flag (Secure Cookies)
cookie_flag | external | https://github.com/AirisX/nginx_cookie_flag_module/archive/refs/tags/v1.1.0.tar.gz | - | --add-dynamic-module={{DIR}}

# Auth PAM (Authentication)
auth_pam | external | https://github.com/sto/ngx_http_auth_pam_module/archive/refs/tags/v1.5.5.tar.gz | - | --add-dynamic-module={{DIR}}

# WebDAV Extended
dav_ext | external | https://github.com/arut/nginx-dav-ext-module/archive/refs/tags/v3.0.0.tar.gz | - | --add-dynamic-module={{DIR}}

# VTS (Traffic Status Metrics)
vts | external | https://github.com/vozlt/nginx-module-vts/archive/refs/tags/v0.2.2.tar.gz | - | --add-dynamic-module={{DIR}}